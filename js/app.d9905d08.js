(function(t){function e(e){for(var i,c,a=e[0],l=e[1],r=e[2],d=0,f=[];d<a.length;d++)c=a[d],Object.prototype.hasOwnProperty.call(s,c)&&s[c]&&f.push(s[c][0]),s[c]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(f.length)f.shift()();return o.push.apply(o,r||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,a=1;a<n.length;a++){var l=n[a];0!==s[l]&&(i=!1)}i&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var i={},s={app:0},o=[];function c(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=i,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)c.d(n,i,function(e){return t[e]}.bind(null,i));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/todo/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var r=0;r<a.length;r++)e(a[r]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"08c8":function(t,e,n){},"0941":function(t,e,n){"use strict";n("461e")},"144b":function(t,e,n){"use strict";n("6543")},"18d3":function(t,e,n){},"32e3":function(t,e,n){},"368d":function(t,e,n){"use strict";n("7490")},"39d6":function(t,e,n){"use strict";n("18d3")},"421d":function(t,e,n){"use strict";n("32e3")},"461e":function(t,e,n){},"51a4":function(t,e,n){"use strict";n("661c")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i,s=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:[t.getTheme],attrs:{id:"app"}},[n("n-header",{on:{tools:t.changePages}}),n("section",{staticClass:"container",class:{hide:t.table}},[n("n-add"),n("n-list"),n("n-sidebar",{attrs:{"is-show":t.tools},on:{cleardialog:t.clearData,uploadData:t.uploadData,opentable:function(e){t.table=!0,t.tools=!1},opentheme:function(e){t.theme=!0,t.tools=!1}}})],1),n("transition",{attrs:{name:"dialog"}},[n("n-dialog",{directives:[{name:"show",rawName:"v-show",value:t.dialog,expression:"dialog"}],attrs:{msg:t.tips},on:{cancel:function(e){t.dialog=!1},sure:t.sureDialog}})],1),n("n-table",{attrs:{"is-show":t.table},on:{deldialog:t.delData,close:function(e){t.table=!1}}}),n("n-theme",{attrs:{"is-show":t.theme},on:{close:function(e){t.theme=!1}}}),n("n-footer")],1)},c=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{},[n("h1",[t._v("待办事项 "),n("a",{staticClass:"t-btn",on:{click:t.showTools}},[n("span")])])])},l=[],r={methods:{showTools:function(){this.$emit("tools")}}},u=r,d=(n("bd48"),n("2877")),f=Object(d["a"])(u,a,l,!1,null,null,null),v=f.exports,h=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},p=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"footer"},[t._v(" © 2020 "),n("a",{attrs:{href:"https://github.com/junghuang",target:"_blank"}},[t._v("junghuang")])])}],m=(n("68b3"),{}),b=Object(d["a"])(m,h,p,!1,null,null,null),g=b.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"event-add"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"n-input",attrs:{type:"text",placeholder:"待办事项"},domProps:{value:t.content},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)},input:function(e){e.target.composing||(t.content=e.target.value)}}}),n("button",{staticClass:"add-btn",on:{click:t.submit}},[t._v("提交")])])},y=[],C=(n("498a"),{data:function(){return{content:""}},methods:{submit:function(){var t=this,e={id:0,type:1,content:"",time:""};t.content=t.content.trim(),t.content&&(e.content=t.content,t.$store.dispatch("addevent",e),t.content="",t.$toast("添加成功"))}}}),E=C,k=(n("e2b8"),Object(d["a"])(E,_,y,!1,null,null,null)),w=k.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"event-all",class:{"event-all-show":t.isShow}},[n("div",{staticClass:"table-box"},[n("div",{staticClass:"edit-input",class:{"edit-input-show":t.is_edit}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.info.content,expression:"info.content"}],ref:"content",attrs:{type:"text"},domProps:{value:t.info.content},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.editData(e)},input:function(e){e.target.composing||t.$set(t.info,"content",e.target.value)}}}),n("button",{on:{click:t.editData}},[t._v("确定")])]),n("div",{staticClass:"screen-box"},[n("div",{staticClass:"div-select",class:{active:t.active}},[n("div",{staticClass:"div-value",on:{click:function(e){t.active=!t.active}}},[t._v(t._s(t.getTypeName))]),n("div",{staticClass:"div-select-body"},[n("div",{staticClass:"div-option",on:{click:function(e){return t.doSelect(0)}}},[t._v("筛选类型")]),n("div",{staticClass:"div-option",on:{click:function(e){return t.doSelect(1)}}},[t._v("未完成")]),n("div",{staticClass:"div-option",on:{click:function(e){return t.doSelect(2)}}},[t._v("已完成")]),n("div",{staticClass:"div-option",on:{click:function(e){return t.doSelect(3)}}},[t._v("已取消")])])]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.screen_title,expression:"screen_title"}],staticClass:"div-search",attrs:{type:"text",placeholder:"筛选关键词"},domProps:{value:t.screen_title},on:{input:function(e){e.target.composing||(t.screen_title=e.target.value)}}})]),n("table",{staticClass:"event-table"},[t._m(0),n("tbody",t._l(t.notapad,(function(e,i){return n("tr",{key:i},[n("td",{attrs:{align:"center"}},[t._v(t._s(i+1))]),n("td",[t._v(t._s(e.content))]),n("td",{attrs:{align:"center"}},[t._v(t._s(t.getType(e.type)))]),n("td",{staticStyle:{"font-size":"0"},attrs:{align:"center"}},[n("button",{on:{click:function(e){return t.showInput(i)}}},[t._v("编辑")]),n("button",{staticClass:"del-btn",on:{click:function(n){return t.showDialog(i,e.id)}}},[t._v("删除")])])])})),0)])])])},x=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("#")]),n("th",[t._v("所有事项")]),n("th",{attrs:{width:""}},[t._v("类型")]),n("th",{attrs:{width:""}},[t._v("操作")])])])}],D=(n("4de4"),n("c975"),{data:function(){return{is_edit:!1,active:!1,screen_type:0,screen_title:"",info:{content:"",id:0,index:0}}},props:["isShow"],computed:{notapad:function(){var t=this;return t.$store.getters.getEventList.filter((function(e){if(0!==t.screen_type&&""===t.screen_title){if(e.type===t.screen_type)return e}else if(0!==t.screen_type&&""!==t.screen_title){if(e.type===t.screen_type&&-1!==e.content.indexOf(t.screen_title))return e}else{if(0!==t.screen_type||""===t.screen_title)return e;if(-1!==e.content.indexOf(t.screen_title))return e}}))},getTypeName:function(){var t=this;return t.getType(t.screen_type)||"筛选类型"}},methods:{doSelect:function(t){this.screen_type=t,this.active=!1},getType:function(t){var e="";switch(t){case 1:e="未完成";break;case 2:e="已完成";break;case 3:e="已取消";break}return e},showDialog:function(t,e){this.$emit("deldialog",t,e)},showInput:function(t){this.is_edit=!0,this.info={index:t,content:this.notapad[t].content,id:this.notapad[t].id},this.$refs.content.focus()},editData:function(){this.info.content=this.info.content.trim(),this.info.content&&(this.$store.dispatch("editevent",this.info),this.is_edit=!1,this.$toast("保存成功"))},closeTable:function(){this.$emit("close")}}}),O=D,$=(n("51a4"),Object(d["a"])(O,T,x,!1,null,null,null)),S=$.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"event-content"},[n("div",{staticClass:"event-tab",on:{click:function(e){return t.changeCollapse(0,e)}}},[t._v("未完成 "),n("span",{class:{"close-span":!t.collapse[0].show}})]),n("div",{staticClass:"event-box",style:{height:"auto",display:"block"}},[n("ul",t._l(t.getToDo,(function(e){return n("li",{key:e.id,staticClass:"event-list"},[n("input",{key:e.id,attrs:{type:"checkbox"},on:{click:function(n){return t.moveToDone(e.id)}}}),n("div",[t._v(t._s(e.content))]),n("button",{staticClass:"cancel-btn",on:{click:function(n){return t.moveCancel(e.id)}}},[t._v("取消")])])})),0)]),n("div",{staticClass:"event-tab",on:{click:function(e){return t.changeCollapse(1,e)}}},[t._v("已完成 "),n("span",{class:{"close-span":!t.collapse[1].show}})]),n("div",{staticClass:"event-box"},[n("ul",t._l(t.getDone,(function(e){return n("li",{key:e.id,staticClass:"event-list"},[n("input",{key:e.id,attrs:{type:"checkbox",checked:""},on:{click:function(n){return t.moveToDo(e.id)}}}),n("div",[t._v(t._s(e.content))]),n("span",{staticClass:"event-time"},[t._v(t._s(e.time))])])})),0)]),n("div",{staticClass:"event-tab",on:{click:function(e){return t.changeCollapse(2,e)}}},[t._v("已取消 "),n("span",{class:{"close-span":!t.collapse[2].show}})]),n("div",{staticClass:"event-box",class:{"event-box-hide":!1}},[n("ul",t._l(t.getCancel,(function(e){return n("li",{key:e.id,staticClass:"event-list"},[n("div",{staticClass:"event-delete"},[t._v(t._s(e.content))]),n("button",{staticClass:"cancel-btn",on:{click:function(n){return t.moveToDo(e.id)}}},[t._v("恢复")])])})),0)])])},j=[],V={data:function(){return{collapse:[{show:!0},{show:!0},{show:!0}]}},computed:{getToDo:function(){return this.$store.getters.getToDo},getDone:function(){return this.$store.getters.getDone},getCancel:function(){return this.$store.getters.getCancel}},methods:{moveToDone:function(t){this.$store.dispatch("eventdone",t)},moveToDo:function(t){this.$store.dispatch("eventtodo",t)},moveCancel:function(t){this.$store.dispatch("eventcancel",t)},changeCollapse:function(t,e){var n=this.collapse[t].show;n?this.closeCollapse(e):this.openCollapse(e),this.collapse[t].show=!n},closeCollapse:function(t){var e=t.currentTarget.nextElementSibling,n=e.getElementsByTagName("ul")[0];e.style.height=n.offsetHeight+"px",setTimeout((function(){e.style.height="0px",setTimeout((function(){e.style.display="none"}),300)}),10)},openCollapse:function(t){var e=t.currentTarget.nextElementSibling,n=e.getElementsByTagName("ul")[0];e.style.display="block",e.style.height=n.offsetHeight+"px",setTimeout((function(){e.style.height="auto"}),300)}}},L=V,P=(n("421d"),Object(d["a"])(L,N,j,!1,null,null,null)),I=P.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"event-tools",class:{"show-event-tools":t.isShow}},[n("ul",{staticClass:"tools-sidebar"},[n("li",[n("button",{staticClass:"tools-btn",on:{click:t.openTheme}},[t._v("切换主题")])]),n("li",[n("button",{staticClass:"tools-btn",on:{click:function(e){return t.downloadData("notepad.txt",t.getDate)}}},[t._v("下载数据")])]),n("li",[n("button",{staticClass:"tools-btn",on:{click:function(e){return t.uploadData()}}},[t._v("导入数据")])]),n("li",[n("button",{staticClass:"tools-btn",on:{click:t.openTable}},[t._v("编辑数据")])]),n("li",[n("button",{staticClass:"tools-btn",on:{click:t.showDialog}},[t._v("清空数据")])])])])},U=[],H=(n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),{data:function(){return{}},props:["isShow"],computed:{getDate:function(){var t=this;return JSON.stringify(t.$store.state)}},methods:{showDialog:function(){this.$emit("cleardialog")},openTable:function(){this.$emit("opentable")},openTheme:function(){this.$emit("opentheme")},downloadData:function(t,e){var n=document.createElement("a"),i=new Blob([e]);n.download=t,n.href=URL.createObjectURL(i),n.click(),URL.revokeObjectURL(i)},uploadData:function(){this.$emit("uploadData")}}}),M=H,R=(n("75fb"),Object(d["a"])(M,A,U,!1,null,null,null)),J=R.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dialog"},[n("div",{staticClass:"dialog-wrapper"},[t._m(0),"upload"!==t.msg?n("div",{staticClass:"dialog-content"},[t._v(" "+t._s(t.msg)+" ")]):n("div",{staticClass:"dialog-content"},[n("input",{attrs:{type:"file",accept:"*.txt"},on:{change:t.upload}}),n("p",[t._v("只允许上传由侧边栏下载的notepad.txt文件")]),t.up_suc?n("p",[t._v("数据读取成功，是否确定导入？")]):t._e(),t.up_err?n("p",[t._v("上传失败，只允许notepad.txt文件")]):t._e()]),n("div",{staticClass:"dialog-btns"},[n("button",{staticClass:"cancel-btn",attrs:{type:"button"},on:{click:t.cancelEvent}},[t._v("取消")]),"upload"!==t.msg?n("button",{staticClass:"sure-btn",attrs:{type:"button"},on:{click:t.sureEvent}},[t._v("确定")]):n("button",{staticClass:"sure-btn",attrs:{type:"button"},on:{click:t.sureUpload}},[t._v("确定")])])])])},F=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dialog-header"},[n("span",{staticClass:"dialog-header-title"},[t._v("提示")])])}],W=(n("b0c0"),{data:function(){return{up_suc:!1,up_err:!1,events:""}},props:["msg"],methods:{cancelEvent:function(){this.$emit("cancel")},sureEvent:function(){this.$emit("sure")},upload:function(t){var e=this,n=t.srcElement.files,i=new FileReader;console.log(n),n[0]&&-1!==n[0].name.indexOf("notepad")?(i.onload=function(t){e.up_err=!1,e.up_suc=!0,e.events=t.target.result},i.readAsText(n[0])):(e.up_suc=!1,e.up_err=!0)},sureUpload:function(){this.up_suc&&(this.$store.dispatch("uploadevent",this.events),this.cancelEvent())}}}),z=W,Y=(n("0941"),Object(d["a"])(z,B,F,!1,null,null,null)),q=Y.exports,G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"theme-box",class:{"theme-box-show":t.isShow}},[n("div",{staticClass:"theme"},[n("div",{staticClass:"theme-title"},[t._v(" 点击切换主题色 ")]),n("div",{staticClass:"theme-list",on:{click:function(e){return t.switchTheme("blue")}}},[n("span",{staticStyle:{background:"#00b0f0"}}),t._v("#00b0f0 ")]),n("div",{staticClass:"theme-list",on:{click:function(e){return t.switchTheme("green")}}},[n("span",{staticStyle:{background:"#00d1b2"}}),t._v("#00d1b2 ")]),n("div",{staticClass:"theme-list",on:{click:function(e){return t.switchTheme("orange")}}},[n("span",{staticStyle:{background:"#f4b976"}}),t._v("#f4b976 ")]),n("div",{staticClass:"theme-list",on:{click:function(e){return t.switchTheme("pink")}}},[n("span",{staticStyle:{background:"#f39894"}}),t._v("#f39894 ")]),n("div",{staticClass:"theme-list",on:{click:function(e){return t.switchTheme("cyan")}}},[n("span",{staticStyle:{background:"#26b6be"}}),t._v("#26b6be ")])])])},K=[],Q={data:function(){return{}},props:["isShow"],methods:{switchTheme:function(t){this.$store.dispatch("switch_theme",t)}}},X=Q,Z=(n("39d6"),Object(d["a"])(X,G,K,!1,null,null,null)),tt=Z.exports,et={data:function(){return{tools:!1,dialog:!1,table:!1,theme:!1,dialog_type:"",tips:"",del_info:{index:0,id:0}}},components:{nHeader:v,nAdd:w,nSidebar:J,nDialog:q,nTable:S,nList:I,nTheme:tt,nFooter:g},computed:{getTheme:function(){return this.$store.getters.getTheme}},methods:{clearData:function(){this.tools=!1,this.dialog=!0,this.dialog_type="clear",this.tips="清空后无法恢复，确认清空吗？"},delData:function(t,e){this.dialog=!0,this.dialog_type="del",this.tips="删除后无法恢复，确认删除吗？",this.del_info={index:t,id:e}},uploadData:function(){this.tools=!1,this.dialog=!0,this.dialog_type="upload",this.tips="upload"},sureDialog:function(){var t=this;switch(t.dialog_type){case"clear":t.$store.dispatch("clearevent"),t.$toast("清空数据成功");break;case"del":t.$store.dispatch("delevent",t.del_info),t.$toast("删除成功");break}this.dialog=!1},changePages:function(){this.table?this.table=!this.table:this.theme?this.theme=!this.theme:this.tools=!this.tools}}},nt=et,it=(n("144b"),n("368d"),Object(d["a"])(nt,o,c,!1,null,null,null)),st=it.exports,ot=n("2f62"),ct=function(t){this.get=function(){return localStorage.getItem(t)?JSON.parse(localStorage.getItem(t)):""},this.set=function(e){localStorage.setItem(t,JSON.stringify(e))},this.clear=function(){localStorage.removeItem(t)}},at=new ct("lx_notepad"),lt=new ct("lx_theme"),rt=function(){var t=new Date,e=parseInt(t.getMonth())+1;return t.getFullYear()+"-"+e+"-"+t.getDate()},ut={addevent:function(t,e){var n=t.commit;return n("ADDEVENT",{items:e})},eventdone:function(t,e){var n=t.commit;return n("EVENTDONE",{id:e})},eventtodo:function(t,e){var n=t.commit;return n("EVENTTODO",{id:e})},eventcancel:function(t,e){var n=t.commit;return n("EVENTCANCEL",{id:e})},clearevent:function(t){var e=t.commit;return e("CLEAREVENT")},delevent:function(t,e){var n=t.commit;return n("DELEVENT",e)},editevent:function(t,e){var n=t.commit;return n("EDITEVENT",e)},uploadevent:function(t,e){var n=t.commit;return n("UPLOADEVENT",e)}},dt=(n("a434"),n("ade3")),ft="ADDEVENT",vt="EVENTDONE",ht="EVENTTODO",pt="EVENTCANCEL",mt="CLEAREVENT",bt="DELEVENT",gt="EDITEVENT",_t="UPLOADEVENT",yt=(i={},Object(dt["a"])(i,ft,(function(t,e){t.count++,e.items.id=t.count,t.event.unshift(e.items),at.set(t)})),Object(dt["a"])(i,vt,(function(t,e){for(var n=0;n<t.event.length;n++)if(t.event[n].id===e.id){t.event[n].type=2,t.event[n].time=rt();var i=t.event[n];t.event.splice(n,1);break}t.event.unshift(i),at.set(t)})),Object(dt["a"])(i,ht,(function(t,e){for(var n=0;n<t.event.length;n++)if(t.event[n].id===e.id){t.event[n].type=1;var i=t.event[n];t.event.splice(n,1);break}t.event.unshift(i),at.set(t)})),Object(dt["a"])(i,pt,(function(t,e){for(var n=0;n<t.event.length;n++)if(t.event[n].id===e.id){t.event[n].type=3;var i=t.event[n];t.event.splice(n,1);break}t.event.unshift(i),at.set(t)})),Object(dt["a"])(i,mt,(function(t){t.event=[],at.clear()})),Object(dt["a"])(i,bt,(function(t,e){t.event[e.index].id===e.id?t.event.splice(e.index,1):t.event.filter((function(n,i){n.id===e.id&&t.event.splice(i,1)})),at.set(t)})),Object(dt["a"])(i,gt,(function(t,e){t.event[e.index].id===e.id?t.event[e.index].content=e.content:t.event.filter((function(t){t.id===e.id&&(t.content=e.content)})),at.set(t)})),Object(dt["a"])(i,_t,(function(t,e){e=JSON.parse(e),t.event=e.event.event,t.count=e.event.count,at.set(t)})),i),Ct={getEventList:function(t){return t.event},getToDo:function(t){return t.event.filter((function(t){if(1===t.type)return t}))},getDone:function(t){return t.event.filter((function(t){if(2===t.type)return t}))},getCancel:function(t){return t.event.filter((function(t){if(3===t.type)return t}))}},Et=at.get()||{event:[],count:0},kt={state:Et,getters:Ct,actions:ut,mutations:yt},wt={switch_theme:function(t,e){var n=t.commit;return n("SWITCHTHEME",{theme:e})}},Tt={SWITCHTHEME:function(t,e){t.theme=e.theme,lt.set(t)}},xt={getTheme:function(t){return t.theme}},Dt=lt.get()||{theme:"blue"},Ot={state:Dt,actions:wt,mutations:Tt,getters:xt};s["a"].use(ot["a"]);var $t=new ot["a"].Store({modules:{event:kt,theme:Ot}});s["a"].config.productionTip=!1,new s["a"]({store:$t,render:function(t){return t(st)}}).$mount("#app")},6543:function(t,e,n){},"661c":function(t,e,n){},"68b3":function(t,e,n){"use strict";n("98b5")},"6d0e":function(t,e,n){},7490:function(t,e,n){},"75fb":function(t,e,n){"use strict";n("6d0e")},"98b5":function(t,e,n){},bd48:function(t,e,n){"use strict";n("08c8")},e2b8:function(t,e,n){"use strict";n("fff5")},fff5:function(t,e,n){}});
//# sourceMappingURL=app.d9905d08.js.map